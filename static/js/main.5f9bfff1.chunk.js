(this["webpackJsonptouch-typing-trainer"]=this["webpackJsonptouch-typing-trainer"]||[]).push([[0],{23:function(e,t,s){},25:function(e,t,s){},26:function(e,t,s){},32:function(e,t,s){},34:function(e,t,s){},35:function(e,t,s){},36:function(e,t,s){"use strict";s.r(t);var a=s(2),n=s.n(a),c=s(16),r=s.n(c),i=s(7),o=s(4),l=s(12),u=s(8),m=s(9),j=s(3),d=s(11),h=s(10),b=(s(23),s(0)),x=function(e){Object(d.a)(s,e);var t=Object(h.a)(s);function s(e){var a;return Object(u.a)(this,s),(a=t.call(this,e)).state={value:"",classNames:"fixed-overlay fixed-overlay-modal"},a.onValueChange=a.onValueChange.bind(Object(j.a)(a)),a.onSubmit=a.onSubmit.bind(Object(j.a)(a)),a}return Object(m.a)(s,[{key:"onValueChange",value:function(e){this.setState({value:e.target.value})}},{key:"onSubmit",value:function(e){e.preventDefault(),this.props.onAdd(this.state.value),this.setState({text:"",classNames:"fixed-overlay fixed-overlay-modal close"})}},{key:"render",value:function(){return Object(b.jsx)("div",{className:this.state.classNames,children:Object(b.jsx)("div",{className:"modal",children:Object(b.jsx)("div",{className:"modal-container",children:Object(b.jsxs)("form",{className:"modal-form",onSubmit:this.onSubmit,children:[Object(b.jsxs)("label",{className:".modal-form-label",children:["\u0418\u043c\u044f:"," ",Object(b.jsx)("input",{type:"text",className:"modal-form-input",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u0432\u043e\u0451 \u0438\u043c\u044f",onChange:this.onValueChange,value:this.state.value})]}),Object(b.jsx)("button",{type:"submit",className:"modal-form-button",children:"\u041d\u0430\u0447\u0430\u0442\u044c \u043f\u0435\u0447\u0430\u0442\u0430\u0442\u044c"})]})})})})}}]),s}(n.a.Component),O=(s(25),function(e){var t=e.firstName,s=e.text,a=e.stat,n=t?", ".concat(t):"",c="\u041f\u0440\u0438\u0432\u0435\u0442".concat(n,"."),r="container-item motivation-text",i=s.findIndex((function(e){return e.current}));return i>0?3===s[i].style?(r="container-item motivation-text motivation-text-error",c="\u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0435\u0449\u0451 \u0440\u0430\u0437".concat(n,".")):(r="container-item motivation-text motivation-text-passed",c="\u041e\u0442\u043b\u0438\u0447\u043d\u043e \u0432\u044b\u0445\u043e\u0434\u0438\u0442".concat(n,"!")):a.finish?c="\u0412\u044b \u0434\u043e\u0448\u043b\u0438 \u0434\u043e \u043a\u043e\u043d\u0446\u0430".concat(n,". \u0422\u0430\u043a \u0434\u0435\u0440\u0436\u0430\u0442\u044c!"):0===i&&3===s[i].style&&(r="container-item motivation-text motivation-text-error",c="\u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0435\u0449\u0451 \u0440\u0430\u0437".concat(n,".")),Object(b.jsx)("div",{className:r,children:c})}),f=(s(26),function(e){var t=e.text,s=["","current-text","passed-text","wrong"],a=t.map((function(e,t){return Object(b.jsx)("span",{className:s[e.style],children:e.char},t)}));return Object(b.jsx)("div",{className:"text container-item",children:a})}),p=s(18),v=s(17),y=(s(32),function(e){var t=e.stat,s=e.time,a=e.clickMouse,n=e.classNameStat;return Object(b.jsxs)("footer",{className:n,children:[Object(b.jsxs)("div",{className:"stat-symbol",children:[Object(b.jsx)("p",{className:"stat-value",children:Object(b.jsx)("span",{children:t.symbols})}),Object(b.jsx)("p",{className:"stat-item",children:"\u0437\u043d\u0430\u043a\u0438"})]}),Object(b.jsxs)("div",{className:"stat-progress",children:[Object(b.jsxs)("p",{className:"stat-value",children:[Object(b.jsx)("span",{children:t.progress}),"%"]}),Object(b.jsx)("p",{className:"stat-item",children:"\u043f\u0440\u043e\u0433\u0440\u0435\u0441\u0441"})]}),Object(b.jsxs)("div",{className:"stat-errors",children:[Object(b.jsx)("p",{className:"stat-value",children:Object(b.jsx)("span",{children:t.errors})}),Object(b.jsx)("p",{className:"stat-item",children:"\u043e\u0448\u0438\u0431\u043a\u0438"})]}),Object(b.jsxs)("div",{className:"stat-speed",children:[Object(b.jsxs)("p",{className:"stat-value",children:[Object(b.jsx)("span",{children:t.speed})," \u0437\u043d./\u043c\u0438\u043d."]}),Object(b.jsx)("p",{className:"stat-item",children:"\u0441\u043a\u043e\u0440\u043e\u0441\u0442\u044c"})]}),Object(b.jsxs)("div",{className:"stat-accuracy",children:[Object(b.jsxs)("p",{className:"stat-value",children:[Object(b.jsx)("span",{children:t.accuracy}),"%"]}),Object(b.jsx)("p",{className:"stat-item",children:"\u0442\u043e\u0447\u043d\u043e\u0441\u0442\u044c"})]}),Object(b.jsxs)("div",{className:"stat-time",children:[Object(b.jsx)("p",{className:"stat-value",children:Object(b.jsx)("span",{children:s})}),Object(b.jsx)("p",{className:"stat-item",children:"\u0432\u0440\u0435\u043c\u044f"})]}),Object(b.jsxs)("div",{className:"stat-repeat",children:[Object(b.jsx)("p",{className:"stat-value",children:Object(b.jsx)("span",{onClick:a,children:Object(b.jsx)(v.a,{className:"redo",icon:p.a})})}),Object(b.jsx)("p",{className:"stat-item",children:"\u0437\u0430\u043d\u043e\u0432\u043e"})]})]})}),N=s(6),k=s.n(N),g=s(15);function S(){return w.apply(this,arguments)}function w(){return(w=Object(g.a)(k.a.mark((function e(){var t;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://fish-text.ru/get?format=json&number=3").then((function(e){return e.json()})).then((function(e){return e.text}));case 2:return t=e.sent,e.next=5,t;case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function C(){return(C=Object(g.a)(k.a.mark((function e(){var t,s,a;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S();case 2:for(t=e.sent,s=[],a=0;a<t.length;a++)0===a?s.push({char:t[a],style:1,current:!0}):s.push({char:t[a],style:0,current:!1});return e.abrupt("return",s);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var M=function(){return C.apply(this,arguments)},D=M,L=(s(34),["speed","finish"]),T=["symbols","progress","speed"],A=["errors","accuracy"],F=function(e){Object(d.a)(s,e);var t=Object(h.a)(s);function s(e){var a;return Object(u.a)(this,s),(a=t.call(this,e)).state={firstName:"",text:[],stat:{symbols:0,progress:"0",errors:0,speed:0,accuracy:"100",finish:!1},time:"00:00",classNameStat:"stat container-item"},a.sec=0,a.min=0,a.textArr=a.textArr.bind(Object(j.a)(a)),a.addName=a.addName.bind(Object(j.a)(a)),a.clickMouse=a.clickMouse.bind(Object(j.a)(a)),a.startTimer=a.startTimer.bind(Object(j.a)(a)),a.keyListener=a.keyListener.bind(Object(j.a)(a)),a.keyDown=a.keyDown.bind(Object(j.a)(a)),a}return Object(m.a)(s,[{key:"componentDidMount",value:function(){this.textArr()}},{key:"textArr",value:function(){var e=this;D().then((function(t){return e.setState((function(){return{text:t}}))}))}},{key:"addName",value:function(e){this.startTimer(),this.keyDown(),this.setState((function(){return{firstName:e}}))}},{key:"clickMouse",value:function(){var e=this;D().then((function(t){e.sec=0,e.min=0,e.keyDown(),e.setState((function(){return{text:t,stat:{symbols:0,progress:"0",errors:0,speed:0,accuracy:"100",finish:!1},time:"00:00",classNameStat:"stat container-item"}}))}))}},{key:"startTimer",value:function(){var e=this,t=setTimeout((function(){e.sec++,e.sec>=60&&(e.sec=0,e.min++,e.min>=99&&(e.min=99,e.sec=59)),e.startTimer(),e.setState((function(s){for(var a=s.stat,n=s.text;!a.finish;){var c=a.speed,r=a.finish,i=Object(l.a)(a,L),u=60*e.min+e.sec===0?1:60*e.min+e.sec;return c=(60*a.symbols/u).toFixed(0),n.length===a.symbols?(clearTimeout(t),{classNameStat:"stat container-item finish",stat:Object(o.a)(Object(o.a)({},i),{},{speed:c,finish:!0})}):{stat:Object(o.a)(Object(o.a)({},i),{},{speed:c,finish:r}),time:"".concat(e.min>9?e.min:"0"+e.min,":").concat(e.sec>9?e.sec:"0"+e.sec)}}}))}),1e3)}},{key:"keyListener",value:function(e){var t=this;this.setState((function(s){var a=s.text,n=s.stat,c=s.time,r=a.findIndex((function(e){return e.current})),u=a.slice(0,r+1),m=a.slice(r+1);if(a[r].char===e.key&&a[r].current){u[u.length-1]={char:a[r].char,style:2,current:!1},0!==m.length?m[0]={char:a[r+1].char,style:1,current:!0}:window.removeEventListener("keydown",t.keyListener);var j=n.symbols,d=n.progress,h=n.speed,b=Object(l.a)(n,T),x=[].concat(Object(i.a)(u),Object(i.a)(m));d=(100*++j/a.length).toFixed(0);var O=Number(c.slice(0,2)),f=Number(c.slice(3));return h=(60*j/(60*O+f===0?1:60*O+f)).toFixed(0),{text:x,stat:Object(o.a)(Object(o.a)({},b),{},{symbols:j,progress:d,speed:h})}}if(!e.shiftKey){var p=n.errors,v=n.accuracy,y=Object(l.a)(n,A);return 3!==a[r].style&&(v=(100-100*++p/a.length).toFixed(1)),u[u.length-1]={char:a[r].char,style:3,current:!0},{text:[].concat(Object(i.a)(u),Object(i.a)(m)),stat:Object(o.a)(Object(o.a)({},y),{},{errors:p,accuracy:v})}}}))}},{key:"keyDown",value:function(){window.addEventListener("keydown",this.keyListener)}},{key:"render",value:function(){var e=this.state,t=e.stat,s=e.text,a=e.firstName,n=e.classNameStat,c=e.time;return Object(b.jsx)("div",{children:0!==s.length&&Object(b.jsxs)("div",{className:"app",children:[Object(b.jsx)(x,{onAdd:this.addName}),Object(b.jsx)("header",{children:Object(b.jsx)("h1",{children:"\u0422\u0440\u0435\u043d\u0430\u0436\u0435\u0440 \u0441\u043b\u0435\u043f\u043e\u0439 \u043f\u0435\u0447\u0430\u0442\u0438"})}),Object(b.jsx)(O,{firstName:a,text:s,stat:t}),Object(b.jsx)("article",{children:Object(b.jsx)(f,{text:s})}),Object(b.jsx)(y,{stat:t,time:c,clickMouse:this.clickMouse,classNameStat:n})]})})}}]),s}(n.a.Component);s(35);r.a.render(Object(b.jsx)(n.a.StrictMode,{children:Object(b.jsx)(F,{})}),document.getElementById("root"))}},[[36,1,2]]]);
//# sourceMappingURL=main.5f9bfff1.chunk.js.map