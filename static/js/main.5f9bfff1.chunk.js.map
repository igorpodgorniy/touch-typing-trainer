{"version":3,"sources":["components/modal/index.js","components/modal/modal.js","components/motivation/index.js","components/motivation/motivation.js","components/text/index.js","components/text/text.js","components/stat/index.js","components/stat/stat.js","services/services.js","services/index.js","components/app/index.js","components/app/app.js","index.js"],"names":["Modal","props","state","value","classNames","onValueChange","bind","onSubmit","e","this","setState","target","preventDefault","onAdd","text","className","type","placeholder","onChange","React","Component","Motivation","firstName","stat","username","motivation","index","findIndex","elem","current","style","finish","Text","string","map","item","i","char","Stat","time","clickMouse","classNameStat","symbols","progress","errors","speed","accuracy","onClick","icon","faRedo","getText","a","fetch","then","response","json","result","textAPI","textArr","length","push","textToArr","App","sec","min","addName","startTimer","keyListener","keyDown","timer","setTimeout","itemProps","divider","toFixed","clearTimeout","beforArr","slice","afterArr","key","window","removeEventListener","newArr","Number","shiftKey","addEventListener","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.5f9bfff1.chunk.js","sourcesContent":["import Modal from \"./modal\";\r\nexport default Modal;\r\n","import React from \"react\";\r\n\r\nimport \"./modal.css\";\r\n\r\nexport default class Modal extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      value: \"\",\r\n      classNames: \"fixed-overlay fixed-overlay-modal\",\r\n    };\r\n    this.onValueChange = this.onValueChange.bind(this);\r\n    this.onSubmit = this.onSubmit.bind(this);\r\n  }\r\n\r\n  onValueChange(e) {\r\n    this.setState({\r\n      value: e.target.value,\r\n    });\r\n  }\r\n\r\n  onSubmit(e) {\r\n    e.preventDefault();\r\n    this.props.onAdd(this.state.value);\r\n    this.setState({\r\n      text: \"\",\r\n      classNames: \"fixed-overlay fixed-overlay-modal close\",\r\n    });\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className={this.state.classNames}>\r\n        <div className=\"modal\">\r\n          <div className=\"modal-container\">\r\n            <form className=\"modal-form\" onSubmit={this.onSubmit}>\r\n              <label className=\".modal-form-label\">\r\n                Имя:{\" \"}\r\n                <input\r\n                  type=\"text\"\r\n                  className=\"modal-form-input\"\r\n                  placeholder=\"Введите своё имя\"\r\n                  onChange={this.onValueChange}\r\n                  value={this.state.value}\r\n                />\r\n              </label>\r\n              <button type=\"submit\" className=\"modal-form-button\">\r\n                Начать печатать\r\n              </button>\r\n            </form>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import Motivation from \"./motivation\";\r\nexport default Motivation;\r\n","import React from \"react\";\r\n\r\nimport \"./motivation.css\";\r\n\r\nconst Motivation = ({ firstName, text, stat }) => {\r\n  const username = firstName ? `, ${firstName}` : \"\";\r\n  let motivation = `Привет${username}.`;\r\n  let classNames = \"container-item motivation-text\";\r\n\r\n  const index = text.findIndex((elem) => elem.current);\r\n  if (index > 0) {\r\n    if (text[index].style === 3) {\r\n      classNames = \"container-item motivation-text motivation-text-error\";\r\n      motivation = `Попробуйте ещё раз${username}.`;\r\n    } else {\r\n      classNames = \"container-item motivation-text motivation-text-passed\";\r\n      motivation = `Отлично выходит${username}!`;\r\n    }\r\n  } else if (stat.finish) {\r\n    motivation = `Вы дошли до конца${username}. Так держать!`;\r\n  } else if (index === 0 && text[index].style === 3) {\r\n    classNames = \"container-item motivation-text motivation-text-error\";\r\n    motivation = `Попробуйте ещё раз${username}.`;\r\n  }\r\n\r\n  return <div className={classNames}>{motivation}</div>;\r\n};\r\n\r\nexport default Motivation;\r\n","import Text from \"./text\";\r\nexport default Text;\r\n","import React from \"react\";\r\n\r\nimport \"./text.css\";\r\n\r\nconst Text = ({ text }) => {\r\n  const classNames = [\"\", \"current-text\", \"passed-text\", \"wrong\"];\r\n  let string = text.map((item, i) => (\r\n    <span className={classNames[item.style]} key={i}>\r\n      {item.char}\r\n    </span>\r\n  ));\r\n  return <div className=\"text container-item\">{string}</div>;\r\n};\r\n\r\nexport default Text;\r\n","import Stat from \"./stat\";\r\nexport default Stat;\r\n","import React from \"react\";\r\nimport { faRedo } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\n\r\nimport \"./stat.css\";\r\n\r\nconst Stat = ({ stat, time, clickMouse, classNameStat }) => {\r\n  return (\r\n    <footer className={classNameStat}>\r\n      <div className=\"stat-symbol\">\r\n        <p className=\"stat-value\">\r\n          <span>{stat.symbols}</span>\r\n        </p>\r\n        <p className=\"stat-item\">знаки</p>\r\n      </div>\r\n      <div className=\"stat-progress\">\r\n        <p className=\"stat-value\">\r\n          <span>{stat.progress}</span>%\r\n        </p>\r\n        <p className=\"stat-item\">прогресс</p>\r\n      </div>\r\n      <div className=\"stat-errors\">\r\n        <p className=\"stat-value\">\r\n          <span>{stat.errors}</span>\r\n        </p>\r\n        <p className=\"stat-item\">ошибки</p>\r\n      </div>\r\n      <div className=\"stat-speed\">\r\n        <p className=\"stat-value\">\r\n          <span>{stat.speed}</span> зн./мин.\r\n        </p>\r\n        <p className=\"stat-item\">скорость</p>\r\n      </div>\r\n      <div className=\"stat-accuracy\">\r\n        <p className=\"stat-value\">\r\n          <span>{stat.accuracy}</span>%\r\n        </p>\r\n        <p className=\"stat-item\">точность</p>\r\n      </div>\r\n      <div className=\"stat-time\">\r\n        <p className=\"stat-value\">\r\n          <span>{time}</span>\r\n        </p>\r\n        <p className=\"stat-item\">время</p>\r\n      </div>\r\n      <div className=\"stat-repeat\">\r\n        <p className=\"stat-value\">\r\n          <span onClick={clickMouse}>\r\n            <FontAwesomeIcon className=\"redo\" icon={faRedo} />\r\n          </span>\r\n        </p>\r\n        <p className=\"stat-item\">заново</p>\r\n      </div>\r\n    </footer>\r\n  );\r\n};\r\n\r\nexport default Stat;\r\n","async function getText() {\r\n  const text = await fetch(\"https://fish-text.ru/get?format=json&number=3\")\r\n    .then((response) => response.json())\r\n    .then((result) => result.text);\r\n  return await text;\r\n}\r\n\r\nasync function textToArr() {\r\n  let textAPI = await getText();\r\n  let textArr = [];\r\n  for (let i = 0; i < textAPI.length; i++) {\r\n    if (i === 0) {\r\n      textArr.push({ char: textAPI[i], style: 1, current: true });\r\n    } else {\r\n      textArr.push({ char: textAPI[i], style: 0, current: false });\r\n    }\r\n  }\r\n  return textArr;\r\n}\r\n\r\nexport default textToArr;\r\n","import textToArr from \"./services\";\r\nexport default textToArr;\r\n","import App from \"./app\";\r\nexport default App;\r\n","import React from \"react\";\r\nimport Modal from \"../modal\";\r\nimport Motivation from \"../motivation\";\r\nimport Text from \"../text\";\r\nimport Stat from \"../stat\";\r\nimport textToArr from \"../../services\";\r\n\r\nimport \"./app.css\";\r\n\r\nexport default class App extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      firstName: \"\",\r\n      text: [],\r\n      stat: {\r\n        symbols: 0,\r\n        progress: \"0\",\r\n        errors: 0,\r\n        speed: 0,\r\n        accuracy: \"100\",\r\n        finish: false,\r\n      },\r\n      time: \"00:00\",\r\n      classNameStat: \"stat container-item\",\r\n    };\r\n    this.sec = 0;\r\n    this.min = 0;\r\n    this.textArr = this.textArr.bind(this);\r\n    this.addName = this.addName.bind(this);\r\n    this.clickMouse = this.clickMouse.bind(this);\r\n    this.startTimer = this.startTimer.bind(this);\r\n    this.keyListener = this.keyListener.bind(this);\r\n    this.keyDown = this.keyDown.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.textArr();\r\n  }\r\n\r\n  textArr() {\r\n    textToArr().then((result) =>\r\n      this.setState(() => {\r\n        return {\r\n          text: result,\r\n        };\r\n      })\r\n    );\r\n  }\r\n\r\n  addName(value) {\r\n    this.startTimer();\r\n    this.keyDown();\r\n    this.setState(() => {\r\n      return {\r\n        firstName: value,\r\n      };\r\n    });\r\n  }\r\n\r\n  clickMouse() {\r\n    textToArr().then((result) => {\r\n      this.sec = 0;\r\n      this.min = 0;\r\n      this.keyDown();\r\n      this.setState(() => {\r\n        return {\r\n          text: result,\r\n          stat: {\r\n            symbols: 0,\r\n            progress: \"0\",\r\n            errors: 0,\r\n            speed: 0,\r\n            accuracy: \"100\",\r\n            finish: false,\r\n          },\r\n          time: \"00:00\",\r\n          classNameStat: \"stat container-item\",\r\n        };\r\n      });\r\n    });\r\n  }\r\n\r\n  startTimer() {\r\n    const timer = setTimeout(() => {\r\n      this.sec++;\r\n      if (this.sec >= 60) {\r\n        this.sec = 0;\r\n        this.min++;\r\n        if (this.min >= 99) {\r\n          this.min = 99;\r\n          this.sec = 59;\r\n        }\r\n      }\r\n      this.startTimer();\r\n      this.setState(({ stat, text }) => {\r\n        while (!stat.finish) {\r\n          let { speed, finish, ...itemProps } = stat;\r\n          const divider =\r\n            this.min * 60 + this.sec === 0 ? 1 : this.min * 60 + this.sec;\r\n          speed = ((stat.symbols * 60) / divider).toFixed(0);\r\n          if (text.length === stat.symbols) {\r\n            clearTimeout(timer);\r\n            return {\r\n              classNameStat: \"stat container-item finish\",\r\n              stat: {\r\n                ...itemProps,\r\n                speed: speed,\r\n                finish: true,\r\n              },\r\n            };\r\n          } else {\r\n            return {\r\n              stat: {\r\n                ...itemProps,\r\n                speed: speed,\r\n                finish: finish,\r\n              },\r\n              time: `${this.min > 9 ? this.min : \"0\" + this.min}:${\r\n                this.sec > 9 ? this.sec : \"0\" + this.sec\r\n              }`,\r\n            };\r\n          }\r\n        }\r\n      });\r\n    }, 1000);\r\n  }\r\n\r\n  keyListener(e) {\r\n    this.setState(({ text, stat, time }) => {\r\n      const index = text.findIndex((elem) => elem.current);\r\n      const beforArr = text.slice(0, index + 1);\r\n      const afterArr = text.slice(index + 1);\r\n      if (text[index].char === e.key && text[index].current) {\r\n        beforArr[beforArr.length - 1] = {\r\n          char: text[index].char,\r\n          style: 2,\r\n          current: false,\r\n        };\r\n        if (afterArr.length !== 0) {\r\n          afterArr[0] = {\r\n            char: text[index + 1].char,\r\n            style: 1,\r\n            current: true,\r\n          };\r\n        } else {\r\n          window.removeEventListener(\"keydown\", this.keyListener);\r\n        }\r\n        let { symbols, progress, speed, ...itemProps } = stat;\r\n        const newArr = [...beforArr, ...afterArr];\r\n        symbols++;\r\n        progress = ((symbols * 100) / text.length).toFixed(0);\r\n        const min = Number(time.slice(0, 2));\r\n        const sec = Number(time.slice(3));\r\n        const divider = min * 60 + sec === 0 ? 1 : min * 60 + sec;\r\n        speed = ((symbols * 60) / divider).toFixed(0);\r\n        return {\r\n          text: newArr,\r\n          stat: {\r\n            ...itemProps,\r\n            symbols: symbols,\r\n            progress: progress,\r\n            speed: speed,\r\n          },\r\n        };\r\n      } else if (e.shiftKey) {\r\n        return;\r\n      } else {\r\n        let { errors, accuracy, ...itemProps } = stat;\r\n        if (text[index].style !== 3) {\r\n          errors++;\r\n          accuracy = (100 - (errors * 100) / text.length).toFixed(1);\r\n        }\r\n        beforArr[beforArr.length - 1] = {\r\n          char: text[index].char,\r\n          style: 3,\r\n          current: true,\r\n        };\r\n        const newArr = [...beforArr, ...afterArr];\r\n        return {\r\n          text: newArr,\r\n          stat: {\r\n            ...itemProps,\r\n            errors: errors,\r\n            accuracy: accuracy,\r\n          },\r\n        };\r\n      }\r\n    });\r\n  }\r\n\r\n  keyDown() {\r\n    window.addEventListener(\"keydown\", this.keyListener);\r\n  }\r\n\r\n  render() {\r\n    const { stat, text, firstName, classNameStat, time } = this.state;\r\n    return (\r\n      <div>\r\n        {text.length !== 0 && (\r\n          <div className=\"app\">\r\n            <Modal onAdd={this.addName} />\r\n            <header>\r\n              <h1>Тренажер слепой печати</h1>\r\n            </header>\r\n            <Motivation firstName={firstName} text={text} stat={stat} />\r\n            <article>\r\n              <Text text={text} />\r\n            </article>\r\n            <Stat\r\n              stat={stat}\r\n              time={time}\r\n              clickMouse={this.clickMouse}\r\n              classNameStat={classNameStat}\r\n            />\r\n          </div>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./components/app\";\n\nimport \"./index.css\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}